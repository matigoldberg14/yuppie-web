---
// src/pages/blog/[id].astro
import Layout from '../layouts/Layout.astro';
import { Card } from '../components/ui/card';

// En un caso real, esto vendría de una API o CMS
const posts = [
  {
    id: 1,
    title: "Cómo aumentar tus reseñas positivas en Google",
    content: `
      <h2>La importancia de las reseñas positivas</h2>
      <p>Las reseñas positivas son fundamentales para cualquier negocio en la era digital. No solo mejoran tu visibilidad en Google, sino que también influyen directamente en las decisiones de compra de los clientes potenciales.</p>
      
      <h2>Estrategias efectivas</h2>
      <ul>
        <li>Solicita reseñas en el momento adecuado</li>
        <li>Facilita el proceso con tecnología NFC</li>
        <li>Responde a todas las reseñas, positivas y negativas</li>
        <li>Ofrece una experiencia excepcional al cliente</li>
      </ul>
      
      <h2>Mejores prácticas</h2>
      <p>Es importante mantener una estrategia consistente y ética al solicitar reseñas. Nunca ofrezcas incentivos a cambio de reseñas positivas, ya que esto va en contra de las políticas de Google.</p>
    `,
    category: "Marketing Digital",
    date: "2024-02-01",
    readTime: "5 min",
    image: "/blog/positive-reviews.jpg",
    author: {
      name: "María González",
      role: "Marketing Manager",
      avatar: "/team/maria.jpg"
    }
  },
  // ... otros posts que nocree xd
];

const { id } = Astro.params;
const post = posts.find(p => p.id.toString() === id);

if (!post) {
  return Astro.redirect('/404');
}
---

<Layout title={`${post.title} | Blog Yuppie`}>
  <div class="min-h-screen">
    <!-- Header -->
    <header class="px-8 lg:px-12 h-20 flex items-center bg-white border-b border-gray-200">
      <a class="flex items-center justify-center" href="/">
        <img
          src="/logo_grande.png"
          alt="Yuppie Logo"
          class="h-10 w-auto"
        />
      </a>
      <nav class="ml-auto flex gap-6 sm:gap-8">
        <a class="text-base font-medium text-primary hover:text-primary-light transition-colors" href="/blog">
          Blog
        </a>
        <a class="text-base font-medium text-primary hover:text-primary-light transition-colors" href="/">
          Inicio
        </a>
      </nav>
    </header>

    <main>
      <!-- Post Header -->
      <section class="bg-primary py-20">
        <div class="container mx-auto px-4">
          <div class="max-w-3xl mx-auto text-center">
            <div class="flex items-center justify-center gap-4 mb-6">
              <span class="text-white/80">{post.category}</span>
              <span class="text-white/80">•</span>
              <span class="text-white/80">{post.readTime}</span>
            </div>
            <h1 class="text-4xl md:text-5xl font-bold text-white mb-6">
              {post.title}
            </h1>
            <div class="flex items-center justify-center gap-4">
              <img 
                src={post.author.avatar} 
                alt={post.author.name}
                class="w-12 h-12 rounded-full"
              />
              <div class="text-left">
                <p class="font-medium text-white">{post.author.name}</p>
                <p class="text-white/80">{post.author.role}</p>
              </div>
            </div>
          </div>
        </div>
      </section>

      <!-- Post Content -->
      <section class="py-20">
        <div class="container mx-auto px-4">
          <div class="max-w-3xl mx-auto">
            <img 
              src={post.image} 
              alt={post.title}
              class="w-full h-96 object-cover rounded-xl mb-12"
            />
            <div 
              class="prose prose-lg max-w-none"
              set:html={post.content}
            />
          </div>
        </div>
      </section>
    </main>

    <!-- Footer -->
    <footer class="bg-primary py-12">
      <div class="container mx-auto px-4">
        <div class="text-center text-white/80">
          <p>© 2024 Yuppie. Todos los derechos reservados.</p>
        </div>
      </div>
    </footer>
  </div>
</Layout>

<style>
  .container {
    max-width: 1200px;
  }
  
  /* Estilos para el contenido del post */
  .prose {
    --tw-prose-body: #374151;
    --tw-prose-headings: #111827;
    --tw-prose-links: #2F02CC;
    --tw-prose-bold: #111827;
    --tw-prose-counters: #6B7280;
    --tw-prose-bullets: #D1D5DB;
    --tw-prose-hr: #E5E7EB;
    --tw-prose-quotes: #111827;
    --tw-prose-quote-borders: #E5E7EB;
    --tw-prose-captions: #6B7280;
    --tw-prose-code: #111827;
    --tw-prose-pre-code: #E5E7EB;
    --tw-prose-pre-bg: #1F2937;
    --tw-prose-th-borders: #D1D5DB;
    --tw-prose-td-borders: #E5E7EB;
  }

  .prose h2 {
    color: var(--tw-prose-headings);
    font-weight: 700;
    font-size: 1.5em;
    margin-top: 2em;
    margin-bottom: 1em;
    line-height: 1.3333333;
  }

  .prose p {
    margin-top: 1.25em;
    margin-bottom: 1.25em;
  }

  .prose a {
    color: var(--tw-prose-links);
    text-decoration: underline;
    font-weight: 500;
  }

  .prose ul {
    margin-top: 1.25em;
    margin-bottom: 1.25em;
    padding-left: 1.625em;
  }

  .prose li {
    margin-top: 0.5em;
    margin-bottom: 0.5em;
  }
</style>
---
// src/pages/login.astro
import Layout from '../layouts/Layout.astro';
import { LoginForm } from '../components/auth/LoginForm';
---

<Layout title="Login | Yuppie">
  <div class="min-h-screen flex items-center justify-center">
    <LoginForm client:load />
  </div>
</Layout>

<script>
  import { auth } from '../lib/firebase';
  import { onAuthStateChanged } from 'firebase/auth';

  if (auth) {
    onAuthStateChanged(auth, (user) => {
      if (user) {
        window.location.href = '/dashboard';
      }
    });
  }
</script>